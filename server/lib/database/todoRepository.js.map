{"version":3,"file":"todoRepository.js","names":["_fs","_interopRequireDefault","require","_todos","obj","__esModule","default","getAll","todos","getOne","id","find","todo","create","data","updatedTodos","fs","writeFileSync","JSON","stringify","update","index","findIndex","console","log","remove","splice"],"sources":["../../src/database/todoRepository.js"],"sourcesContent":["import fs from \"fs\";\r\nimport todos from \"./todos.json\";\r\n\r\nexport function getAll() {\r\n  return todos;\r\n}\r\n\r\nexport function getOne(id) {\r\n  return todos.find((todo) => todo.id == id);\r\n}\r\n\r\nexport function create(data) {\r\n  const updatedTodos = [data, ...todos];\r\n  return fs.writeFileSync(\r\n    \"./src/database/todos.json\",\r\n    JSON.stringify(updatedTodos)\r\n  );\r\n}\r\n\r\nexport function update(data) {\r\n  const index = todos.findIndex((todo) => todo.id == data.id);\r\n  console.log(data.id);\r\n  if (index !== -1) {\r\n    todos[index] = data;\r\n    return fs.writeFileSync(\"./src/database/todos.json\", JSON.stringify(todos));\r\n  }\r\n}\r\n\r\nexport function remove(id) {\r\n  const index = todos.findIndex((todo) => todo.id == id);\r\n  if (index !== -1) {\r\n    todos.splice(index, 1);\r\n    return fs.writeFileSync(\"./src/database/todos.json\", JSON.stringify(todos));\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAiC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE1B,SAASG,MAAMA,CAAA,EAAG;EACvB,OAAOC,cAAK;AACd;AAEO,SAASC,MAAMA,CAACC,EAAE,EAAE;EACzB,OAAOF,cAAK,CAACG,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACF,EAAE,IAAIA,EAAE,CAAC;AAC5C;AAEO,SAASG,MAAMA,CAACC,IAAI,EAAE;EAC3B,MAAMC,YAAY,GAAG,CAACD,IAAI,EAAE,GAAGN,cAAK,CAAC;EACrC,OAAOQ,WAAE,CAACC,aAAa,CACrB,2BAA2B,EAC3BC,IAAI,CAACC,SAAS,CAACJ,YAAY,CAC7B,CAAC;AACH;AAEO,SAASK,MAAMA,CAACN,IAAI,EAAE;EAC3B,MAAMO,KAAK,GAAGb,cAAK,CAACc,SAAS,CAAEV,IAAI,IAAKA,IAAI,CAACF,EAAE,IAAII,IAAI,CAACJ,EAAE,CAAC;EAC3Da,OAAO,CAACC,GAAG,CAACV,IAAI,CAACJ,EAAE,CAAC;EACpB,IAAIW,KAAK,KAAK,CAAC,CAAC,EAAE;IAChBb,cAAK,CAACa,KAAK,CAAC,GAAGP,IAAI;IACnB,OAAOE,WAAE,CAACC,aAAa,CAAC,2BAA2B,EAAEC,IAAI,CAACC,SAAS,CAACX,cAAK,CAAC,CAAC;EAC7E;AACF;AAEO,SAASiB,MAAMA,CAACf,EAAE,EAAE;EACzB,MAAMW,KAAK,GAAGb,cAAK,CAACc,SAAS,CAAEV,IAAI,IAAKA,IAAI,CAACF,EAAE,IAAIA,EAAE,CAAC;EACtD,IAAIW,KAAK,KAAK,CAAC,CAAC,EAAE;IAChBb,cAAK,CAACkB,MAAM,CAACL,KAAK,EAAE,CAAC,CAAC;IACtB,OAAOL,WAAE,CAACC,aAAa,CAAC,2BAA2B,EAAEC,IAAI,CAACC,SAAS,CAACX,cAAK,CAAC,CAAC;EAC7E;AACF"}