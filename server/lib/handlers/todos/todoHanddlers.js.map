{"version":3,"file":"todoHanddlers.js","names":["_todoRepository","require","getTodos","ctx","todos","getAllTodos","body","e","status","success","data","error","message","getOne","id","params","todo","getOneTodo","createOne","postData","request","createTodo","updateOne","updateTodo","removeOne","removeTodo"],"sources":["../../../src/handlers/todos/todoHanddlers.js"],"sourcesContent":["import {\r\n  getAll as getAllTodos,\r\n  getOne as getOneTodo,\r\n  create as createTodo,\r\n  update as updateTodo,\r\n  remove as removeTodo,\r\n} from \"../../database/todoRepository\";\r\n\r\nexport async function getTodos(ctx) {\r\n  try {\r\n    const todos = getAllTodos();\r\n    ctx.body = todos;\r\n  } catch (e) {\r\n    ctx.status = 404;\r\n    ctx.body = {\r\n      success: false,\r\n      data: [],\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function getOne(ctx) {\r\n  try {\r\n    const id = ctx.params.id;\r\n    const todo = getOneTodo({ id });\r\n\r\n    ctx.body = {\r\n      data: todo,\r\n    };\r\n  } catch (e) {\r\n    ctx.status = 404;\r\n    ctx.body = {\r\n      success: false,\r\n      data: [],\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function createOne(ctx) {\r\n  try {\r\n    const postData = ctx.request.body;\r\n\r\n    createTodo(postData);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      data: postData,\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function updateOne(ctx) {\r\n  try {\r\n\r\n    let id = ctx.params.id;\r\n    updateTodo({ id });\r\n\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function removeOne(ctx) {\r\n  try {\r\n    const id = ctx.params.id;\r\n    removeTodo({ id });\r\n\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AAQO,eAAeC,QAAQA,CAACC,GAAG,EAAE;EAClC,IAAI;IACF,MAAMC,KAAK,GAAG,IAAAC,sBAAW,EAAC,CAAC;IAC3BF,GAAG,CAACG,IAAI,GAAGF,KAAK;EAClB,CAAC,CAAC,OAAOG,CAAC,EAAE;IACVJ,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAEJ,CAAC,CAACK;IACX,CAAC;EACH;AACF;AAEO,eAAeC,MAAMA,CAACV,GAAG,EAAE;EAChC,IAAI;IACF,MAAMW,EAAE,GAAGX,GAAG,CAACY,MAAM,CAACD,EAAE;IACxB,MAAME,IAAI,GAAG,IAAAC,sBAAU,EAAC;MAAEH;IAAG,CAAC,CAAC;IAE/BX,GAAG,CAACG,IAAI,GAAG;MACTI,IAAI,EAAEM;IACR,CAAC;EACH,CAAC,CAAC,OAAOT,CAAC,EAAE;IACVJ,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAEJ,CAAC,CAACK;IACX,CAAC;EACH;AACF;AAEO,eAAeM,SAASA,CAACf,GAAG,EAAE;EACnC,IAAI;IACF,MAAMgB,QAAQ,GAAGhB,GAAG,CAACiB,OAAO,CAACd,IAAI;IAEjC,IAAAe,sBAAU,EAACF,QAAQ,CAAC;IACpBhB,GAAG,CAACK,MAAM,GAAG,GAAG;IAChB,OAAQL,GAAG,CAACG,IAAI,GAAG;MACjBI,IAAI,EAAES,QAAQ;MACdV,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOF,CAAC,EAAE;IACVJ,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdE,KAAK,EAAEJ,CAAC,CAACK;IACX,CAAC;EACH;AACF;AAEO,eAAeU,SAASA,CAACnB,GAAG,EAAE;EACnC,IAAI;IAEF,IAAIW,EAAE,GAAGX,GAAG,CAACY,MAAM,CAACD,EAAE;IACtB,IAAAS,sBAAU,EAAC;MAAET;IAAG,CAAC,CAAC;IAElB,OAAQX,GAAG,CAACG,IAAI,GAAG;MACjBG,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOF,CAAC,EAAE;IACVJ,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdE,KAAK,EAAEJ,CAAC,CAACK;IACX,CAAC;EACH;AACF;AAEO,eAAeY,SAASA,CAACrB,GAAG,EAAE;EACnC,IAAI;IACF,MAAMW,EAAE,GAAGX,GAAG,CAACY,MAAM,CAACD,EAAE;IACxB,IAAAW,sBAAU,EAAC;MAAEX;IAAG,CAAC,CAAC;IAElB,OAAQX,GAAG,CAACG,IAAI,GAAG;MACjBG,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOF,CAAC,EAAE;IACVJ,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdE,KAAK,EAAEJ,CAAC,CAACK;IACX,CAAC;EACH;AACF"}