{"version":3,"file":"todoHanddlers.js","names":["_todoRepository","require","getTodos","ctx","todos","getAllTodos","body","e","status","success","data","error","message","getOne","id","request","params","todo","getOneTodo","createOne","postData","console","log","createTodo","updateOne","parseInt","mergeData","updateTodo","removeOne","removeTodo"],"sources":["../../../src/handlers/todos/todoHanddlers.js"],"sourcesContent":["import {\r\n  getAll as getAllTodos,\r\n  getOne as getOneTodo,\r\n  create as createTodo,\r\n  update as updateTodo,\r\n  remove as removeTodo,\r\n} from \"../../database/todoRepository\";\r\n\r\nexport async function getTodos(ctx) {\r\n  try {\r\n    const todos = getAllTodos();\r\n    ctx.body = todos;\r\n  } catch (e) {\r\n    ctx.status = 404;\r\n    ctx.body = {\r\n      success: false,\r\n      data: [],\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function getOne(ctx) {\r\n  try {\r\n    const { id } = ctx.request.params;\r\n    const todo = getOneTodo(id);\r\n\r\n    ctx.body = {\r\n      data: todo,\r\n    };\r\n  } catch (e) {\r\n    ctx.status = 404;\r\n    ctx.body = {\r\n      success: false,\r\n      data: [],\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function createOne(ctx) {\r\n  try {\r\n    const postData = ctx.request.body;\r\n    console.log(postData);\r\n    createTodo(postData);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    };\r\n    console.log(\"hand\");\r\n  }\r\n}\r\n\r\nexport async function updateOne(ctx) {\r\n  try {\r\n    const data = ctx.request.body;\r\n    let { id } = ctx.request.params;\r\n    id = parseInt(id);\r\n    const mergeData = {\r\n      id,\r\n      ...data,\r\n    };\r\n    console.log(mergeData);\r\n    updateTodo(mergeData);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function removeOne(ctx) {\r\n  try {\r\n    const { id } = ctx.request.params;\r\n    removeTodo(id);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n"],"mappings":"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"}